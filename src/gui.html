<div>
    <div class="fflex" style="align-items: stretch">
        <sly-card title="Input Project #1" style="width: 33%" class="mr15">
            <sly-field title="" description="Project">
                <a slot="title" target="_blank"
                   :href="`/projects/${data.projectId1}/datasets`">{{data.projectName1}}</a>
                <sly-icon slot="icon" :options="{ imageUrl: `${data.projectPreviewUrl1}` }"/>
            </sly-field>
        </sly-card>

        <sly-card title="Result project" style="width: 34%" class="mr15">
            <div class="fflex">
                <el-button
                        :disabled="state.resultProjectName.length === 0"
                        type="primary"
                        @click="command('merge')"
                        v-if="!data.createdProjectName"
                >
                    <i class="zmdi zmdi-play" style="margin-right: 5px"></i> Run
                </el-button>
                <div class="ml5" v-if="state.resultProjectName.length === 0" style="color: red"> Define project name
                </div>
            </div>
            <sly-field v-if="data.createdProjectName" title="" description="Project">
                <a slot="title" target="_blank"
                   :href="`/projects/${data.createdProjectId}/datasets`">{{data.createdProjectName}}</a>
                <sly-icon slot="icon" :options="{ color: '#2cd26e', bgColor: '#d8f8e7', rounded: false }">
                    <i class="zmdi zmdi-collection-folder-image"></i>
                </sly-icon>
            </sly-field>
        </sly-card>

        <sly-card title="Input Project #2" style="width: 33%">
            <sly-field title="" description="Project">
                <a slot="title" target="_blank"
                   :href="`/projects/${data.projectId2}/datasets`">{{data.projectName2}}</a>
                <sly-icon slot="icon" :options="{ imageUrl: `${data.projectPreviewUrl2}` }"/>
            </sly-field>
        </sly-card>
    </div>

    <sly-card class="mt15" title="Compare Datasets" subtitle="Click on the numbers to see corresponding images">
        <el-table class="ultra-table"
                  :data="data.table"
                  style="width: 100%"
                  :default-sort="{prop: 'left.name', order: 'ascending'}"
        >
            <el-table-column sortable prop="left.name" :label="`Project 1: Datasets`">
                <template scope="scope">
                    <div v-if="scope.row.left.name.length > 0">
                        <i class="zmdi zmdi-collection-image-o"></i>
                        <span class="ml5 mr10">{{ scope.row.left.name }}</span>
                        <span style="color: #7f858e;">
                            <i class="zmdi zmdi-equalizer"></i> {{ scope.row.left.count }} images
                        </span>
                    </div>
                </template>
            </el-table-column>
            <el-table-column label="Compare">
                <template scope="scope">
                    <div v-for="(count, index) in scope.row.numbers">
                        <div v-if="count !== 0">
                            <div class="mt5" :style="{color: scope.row.color[index]}">
                                <span style="width: 25px; display: inline-block">
                                    <i v-for="icon in scope.row.icon[index]" :class="icon"></i>
                                </span>
                                <span style="text-decoration: underline; cursor: pointer;"
                                      @click="state.click = scope.row;
                                              state.clickIndex = index;
                                              command('show_images')">
                                    <span v-if="count > 0">{{count}}</span> {{scope.row.message[index]}}
                                </span>
                            </div>
                        </div>
                    </div>
                </template>
            </el-table-column>
            <el-table-column sortable prop="right.name" :label="`Project 2: Datasets`">
                <template scope="scope">
                    <div v-if="scope.row.right.name.length > 0">
                        <i class="zmdi zmdi-collection-image-o"></i>
                        <span class="ml5 mr10">{{ scope.row.right.name }}</span>
                        <span style="color: #7f858e;">
                            <i class="zmdi zmdi-equalizer"></i> {{ scope.row.right.count }} images
                        </span>
                    </div>
                </template>
            </el-table-column>
        </el-table>

        <br/>
        <br/>
        <div class="mt5"><i class="zmdi zmdi-map mr5" style="width: 15px; display: inline-block"></i>Legend:</div>
        <div class="mt5">
            <span style="color: green"><i class="zmdi zmdi-check mr5" style="width: 15px; display: inline-block"></i>matched</span>
            - images have same names and same content
        </div>
        <div class="mt5">
            <span style="color: red"><i class="zmdi zmdi-close mr5" style="width: 15px; display: inline-block"></i>conflicts</span>
            - images have same names but different content
        </div>
        <div class="mt5">
            <span style="color: #20a0ff"><i class="zmdi zmdi-plus-circle-o mr5" style="width: 15px; display: inline-block"></i>unique</span>
            - images only present in one dataset
        </div>
        <div class="mt5">
            <span style="color: #F39C12"><i class="zmdi zmdi-folder-outline mr5" style="width: 15px; display: inline-block"></i>new dataset</span>
            - dataset present only in one project
        </div>
    </sly-card>

    <sly-card class="mt15"
              title="Images"
              subtitle="Click on number in comparison table to see corresponding images">
        <sly-table v-if="state.click"
                   :options="{perPage: 10, pageSizes: [10, 20, 50, 100]}"
                   :content='data.images'
        ></sly-table>
    </sly-card>
</div>